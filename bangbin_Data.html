<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Informasi Sekolah & Rapor</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="icon" type="image/x-icon" href="https://lh3.googleusercontent.com/d/1_4llqCMNoBDmwDHsI7RYsCM6rSK5wEjw">
    <link rel="stylesheet" href="style.css">
    <style>
        /* === CSS Desain Minimalis === */
        body { background: var(--bg-color); }
        .container {
            max-width: 950px; background-color: #ffffff;
            box-shadow: 0 8px 40px rgba(0, 0, 0, 0.08); border-radius: 16px;
            padding: 30px 40px; margin-top: 20px; border: 1px solid var(--border-color);
        }
        .page-header {
            display: flex; align-items: center; gap: 20px;
            margin-bottom: 25px; padding-bottom: 20px; border-bottom: 1px solid var(--border-color);
        }
        .page-header h1 { margin: 0; padding: 0; border: none; font-size: 1.8em; color: var(--text-color); }
        .home-link { display: inline-flex; color: var(--text-color); transition: color 0.2s; }
        .home-link:hover { color: var(--primary-color); }
        .home-link i { font-size: 1.8em; }
        .form-section-title {
            font-size: 1.2em; font-weight: 600; color: var(--secondary-color);
            margin-top: 20px; margin-bottom: 20px;
            grid-column: 1 / -1; display: flex; align-items: center; gap: 10px;
        }
        .form-section-title:first-child { margin-top: 0; }
        .form-section-title .line { flex-grow: 1; height: 1px; background-color: var(--border-color); }
        .input-group { position: relative; display: flex; align-items: center; }
        .input-group .icon {
            position: absolute; left: 15px; color: #aaa;
            font-size: 0.9em; transition: color 0.2s; pointer-events: none;
        }
        .input-group input, .input-group select { padding-left: 40px !important; }
        .input-group input:focus + .icon, .input-group select:focus + .icon { color: var(--primary-color); }
        .form-grid { display: grid; gap: 18px 40px; grid-template-columns: repeat(2, 1fr); }
        .submit-container {
            display: flex; justify-content: flex-end; align-items: center; gap: 15px;
            margin-top: 30px; padding-top: 20px; border-top: 1px solid var(--border-color);
        }
        .submit-container button {
            font-size: 1em; padding: 12px 30px;
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            box-shadow: 0 4px 20px rgba(74,144,226,0.4);
        }
        .submit-container button i { margin-right: 8px; }
        
        /* === CSS BARU UNTUK UPLOAD LOGO === */
        .logo-uploader {
            grid-column: 1 / -1; /* Mengambil lebar penuh */
            display: flex;
            align-items: center;
            gap: 30px;
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
            border: 1px dashed var(--border-color);
        }
        .logo-preview {
            width: 100px;
            height: 100px;
            border-radius: 50%; /* Membuat frame menjadi lingkaran */
            border: 3px solid #fff;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #e9ecef;
            flex-shrink: 0;
        }
        .logo-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover; /* Memastikan logo mengisi frame tanpa distorsi */
        }
        .logo-instructions p { margin: 0 0 10px 0; font-size: 0.9em; color: #6c757d; }
        .logo-actions { display: flex; gap: 10px; }
        .logo-actions label, .logo-actions button {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 15px;
            font-size: 0.9em;
            border-radius: 8px;
            cursor: pointer;
            border: 1px solid var(--border-color);
            background-color: #fff;
            color: var(--text-color);
            transition: all 0.2s ease;
        }
        .logo-actions label:hover, .logo-actions button:hover {
             border-color: var(--primary-color);
             background-color: var(--primary-color);
             color: #fff;
        }
        .logo-actions button { background-color: #f1f1f1; border-color: #ddd; }
        .logo-actions button:hover { background-color: var(--danger-color); border-color: var(--danger-color); color: #fff;}
        #logoUploadInput { display: none; } /* Sembunyikan input file asli */
        
        @media (max-width: 768px) {
            .form-grid { grid-template-columns: 1fr; }
            .logo-uploader { flex-direction: column; text-align: center; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="page-header">
             <a href="bangbin_Rapor.html" class="home-link" title="Kembali ke Menu Utama">
                <i class="fa-solid fa-circle-chevron-left"></i>
            </a>
            <h1>Pengaturan Informasi Sekolah</h1>
        </header>

        <form id="formInfoDasar">
            <div class="form-grid">

                <div class="logo-uploader">
                    <div class="logo-preview">
                        <img id="logoPreview" src="https://via.placeholder.com/100" alt="Logo Sekolah">
                    </div>
                    <div class="logo-instructions">
                        <h4>Logo Sekolah</h4>
                        <p>Unggah logo sekolah Anda. Format yang disarankan adalah JPG, PNG, atau SVG dengan rasio 1:1 (persegi).</p>
                        <div class="logo-actions">
                            <label for="logoUploadInput"><i class="fa-solid fa-arrow-up-from-bracket"></i> Pilih File</label>
                            <input type="file" id="logoUploadInput" accept="image/*">
                            <button type="button" id="removeLogoButton"><i class="fa-solid fa-trash"></i> Hapus Logo</button>
                        </div>
                    </div>
                </div>

                <div class="form-section-title">
                    <span>Identitas Sekolah</span><div class="line"></div>
                </div>
                <div><label for="namaSekolah">Nama Sekolah</label><div class="input-group"><input type="text" id="namaSekolah" placeholder="Nama lengkap sekolah..." required><i class="icon fa-solid fa-school"></i></div></div>
                <div><label for="npsn">NPSN</label><div class="input-group"><input type="number" id="npsn" placeholder="8 digit NPSN..."><i class="icon fa-solid fa-hashtag"></i></div></div>
                <div><label for="jenjang">Jenjang Pendidikan</label><div class="input-group"><select id="jenjang"><option>Sekolah Dasar</option><option>Sekolah Dasar Islam Terpadu</option><option>Sekolah Dasar Kristen</option><option>Sekolah Menengah Pertama</option><option>Sekolah Menengah Pertama Islam Terpadu</option><option>Sekolah Menengah Atas</option><option>Sekolah Menengah Atas Islam Terpadu</option><option>Sekolah Menengah Kejuruan</option></select><i class="icon fa-solid fa-layer-group"></i></div></div>
                <div><label for="alamat">Alamat Jalan</label><div class="input-group"><input type="text" id="alamat" placeholder="Nama jalan, nomor, RT/RW..."><i class="icon fa-solid fa-map-location-dot"></i></div></div>
                <div><label for="desaKelurahan">Desa / Kelurahan</label><div class="input-group"><input type="text" id="desaKelurahan" placeholder="Contoh: Cijantung"><i class="icon fa-solid fa-signs-post"></i></div></div>
                <div><label for="kecamatan">Kecamatan</label><div class="input-group"><input type="text" id="kecamatan" placeholder="Contoh: Pasar Rebo"><i class="icon fa-solid fa-map-marked-alt"></i></div></div>
                <div><label for="kabupatenKota">Kabupaten / Kota</label><div class="input-group"><input type="text" id="kabupatenKota" placeholder="Contoh: Jakarta Timur"><i class="icon fa-solid fa-city"></i></div></div>
                <div><label for="provinsi">Provinsi</label><div class="input-group"><input type="text" id="provinsi" placeholder="Contoh: DKI Jakarta"><i class="icon fa-solid fa-flag"></i></div></div>
                <div><label for="telpon">Telepon</label><div class="input-group"><input type="text" id="telpon" placeholder="Nomor telepon aktif..."><i class="icon fa-solid fa-phone"></i></div></div>
                <div><label for="website">Website</label><div class="input-group"><input type="text" id="website" placeholder="https://sekolah.sch.id"><i class="icon fa-solid fa-globe"></i></div></div>
                <div><label for="email">Email</label><div class="input-group"><input type="email" id="email" placeholder="kontak@sekolah.sch.id"><i class="icon fa-solid fa-envelope"></i></div></div>
                
                <div class="form-section-title">
                    <span>Personalia & Pengaturan Rapor</span><div class="line"></div>
                </div>
                <div><label for="kepalaSekolah">Nama Kepala Sekolah</label><div class="input-group"><input type="text" id="kepalaSekolah" placeholder="Nama lengkap & gelar..."><i class="icon fa-solid fa-user-tie"></i></div></div>
                <div><label for="nipKepsek">NIP Kepala Sekolah</label><div class="input-group"><input type="text" id="nipKepsek" placeholder="NIP tanpa spasi..."><i class="icon fa-solid fa-id-card"></i></div></div>
                <div><label for="namaGuru">Nama Guru / Wali Kelas</label><div class="input-group"><input type="text" id="namaGuru" required placeholder="Nama lengkap & gelar..."><i class="icon fa-solid fa-user-chalkboard"></i></div></div>
                <div><label for="nipGuru">NIP Guru Kelas</label><div class="input-group"><input type="text" id="nipGuru" placeholder="NIP/NUPTK/PegID..."><i class="icon fa-solid fa-id-card-clip"></i></div></div>
                <div><label for="whatsappGuru">Nomor WhatsApp Guru</label><div class="input-group"><input type="text" id="whatsappGuru" placeholder="Contoh: 081234567890"><i class="icon fa-brands fa-whatsapp"></i></div></div>
                <div><label for="kelas">Kelas</label><div class="input-group"><input type="text" id="kelas" placeholder="Contoh: IV A"><i class="icon fa-solid fa-person-shelter"></i></div></div>
                <div><label for="fase">Fase</label><div class="input-group"><input type="text" id="fase" placeholder="Contoh: B"><i class="icon fa-solid fa-star"></i></div></div>
                <div><label for="semester">Semester</label><div class="input-group"><select id="semester"><option value="1">1 (Ganjil)</option><option value="2">2 (Genap)</option></select><i class="icon fa-solid fa-calendar-days"></i></div></div>
                <div><label for="tahunAjaran">Tahun Ajaran</label><div class="input-group"><input type="text" id="tahunAjaran" placeholder="Contoh: 2024/2025" required><i class="icon fa-solid fa-graduation-cap"></i></div></div>
                <div><label for="tanggalRaporDepan">Tanggal Rapor (Halaman Depan)</label><div class="input-group"><input type="date" id="tanggalRaporDepan"><i class="icon fa-solid fa-file-signature"></i></div></div>
                <div><label for="tanggalRaporNilai">Tanggal Rapor (Halaman Nilai)</label><div class="input-group"><input type="date" id="tanggalRaporNilai"><i class="icon fa-solid fa-file-pen"></i></div></div>
            </div>

            <div class="submit-container">
                 <button type="submit"><i class="fa-solid fa-floppy-disk"></i>Simpan Semua Data</button>
            </div>
        </form>
    </div>

    <script src="bangbin_uhuuyy.js"></script>
<script src="bangbin_uhuuyy.js"></script>
    <script>
function _0x388e(_0x1c3c1c,_0x5594fb){const _0x2dabb8=_0x2dab();return _0x388e=function(_0x388e83,_0x58b1a5){_0x388e83=_0x388e83-0x8c;let _0x38eb31=_0x2dabb8[_0x388e83];return _0x38eb31;},_0x388e(_0x1c3c1c,_0x5594fb);}const _0x1c5c3d=_0x388e;function _0x2dab(){const _0x2686d3=['formInfoDasar','253pcHTnM','jenjang','Berhasil\x20Disimpan!\x20✨','semester','kecamatan','target','image/','success','text/plain;charset=utf-8','Gagal\x20menghubungi\x20Google\x20Sheet:','namaGuru','forEach','data:image','website','Respons\x20dari\x20Google\x20Sheet:','telpon','provinsi','4760ygolUw','result','error','readAsDataURL','files','613190kcSnNM','tanggalRaporDepan','52kJzfDG','185499DISUis','1097980pfikXf','click','https://www.kemendikdasmen.go.id/web/image/website/21/favicon?unique=c3563e4','status','fase','POST','DOMContentLoaded','kelas','429978CNcfdJ','5918580aFksip','tanggalRaporNilai','Seluruh\x20informasi\x20sekolah\x20telah\x20berhasil\x20diperbarui.','8191962AfsKif','infoDasar','email','id-ID','getElementById','alamat','kabupatenKota','type','kepalaSekolah','desaKelurahan','npsn','namaSekolah','toLocaleString','5pSdklL','logoSekolah','preventDefault','nipGuru','json','onload','https://script.google.com/macros/s/AKfycbyuHIpJYfjg7Yf_FssU53sPcF5mUzV5vbfDriQafq-M6wWrK_lOjCBRYm65Ju-T4DFXTQ/exec','addEventListener','value','1211hWxslU','stringify','tahunAjaran','startsWith','src'];_0x2dab=function(){return _0x2686d3;};return _0x2dab();}(function(_0x3a4128,_0x12b19b){const _0x2cc285=_0x388e,_0x2754f1=_0x3a4128();while(!![]){try{const _0xdf88f9=-parseInt(_0x2cc285(0xbc))/0x1+parseInt(_0x2cc285(0xb4))/0x2+-parseInt(_0x2cc285(0xb3))/0x3*(parseInt(_0x2cc285(0xb2))/0x4)+-parseInt(_0x2cc285(0xcd))/0x5*(parseInt(_0x2cc285(0xbd))/0x6)+-parseInt(_0x2cc285(0x94))/0x7*(-parseInt(_0x2cc285(0xab))/0x8)+parseInt(_0x2cc285(0xc0))/0x9+parseInt(_0x2cc285(0xb0))/0xa*(parseInt(_0x2cc285(0x9a))/0xb);if(_0xdf88f9===_0x12b19b)break;else _0x2754f1['push'](_0x2754f1['shift']());}catch(_0x5e5eb1){_0x2754f1['push'](_0x2754f1['shift']());}}}(_0x2dab,0xb7a73),document[_0x1c5c3d(0x92)](_0x1c5c3d(0xba),()=>{const _0x1fd772=_0x1c5c3d,_0x1cf157=loadData(),_0x33bba4=document[_0x1fd772(0xc4)](_0x1fd772(0x99)),_0x1f643e=async _0x27989e=>{const _0x1b8ccb=_0x1fd772,_0xa26ec5=_0x1b8ccb(0x91),_0x20f827={'timestamp':new Date()[_0x1b8ccb(0xcc)](_0x1b8ccb(0xc3),{'timeZone':'Asia/Jakarta'}),'namaGuru':_0x27989e[_0x1b8ccb(0xa4)],'namaSekolah':_0x27989e[_0x1b8ccb(0xcb)],'desaKelurahan':_0x27989e[_0x1b8ccb(0xc9)],'kecamatan':_0x27989e[_0x1b8ccb(0x9e)],'kabupatenKota':_0x27989e[_0x1b8ccb(0xc6)],'provinsi':_0x27989e['provinsi'],'whatsappGuru':_0x27989e['whatsappGuru'],'kelas':_0x27989e[_0x1b8ccb(0xbb)],'jenjang':_0x27989e['jenjang']};try{const _0x29d237=await fetch(_0xa26ec5,{'method':_0x1b8ccb(0xb9),'headers':{'Content-Type':_0x1b8ccb(0xa2)},'body':JSON[_0x1b8ccb(0x95)](_0x20f827)}),_0x3b504b=await _0x29d237[_0x1b8ccb(0x8f)]();_0x3b504b[_0x1b8ccb(0xb7)]===_0x1b8ccb(0xa1)?console['log'](_0x1b8ccb(0xa8),_0x3b504b['message']):console[_0x1b8ccb(0xad)]('Error\x20dari\x20Google\x20Sheet:',_0x3b504b['message']);}catch(_0x4612ba){console['error'](_0x1b8ccb(0xa3),_0x4612ba);}},_0x501ef9=document[_0x1fd772(0xc4)]('logoUploadInput'),_0x2a9364=document['getElementById']('logoPreview'),_0x4f5524=document[_0x1fd772(0xc4)]('removeLogoButton'),_0x3d52c3=_0x1fd772(0xb6),_0x67a249=()=>{const _0x419df6=_0x1fd772;_0x1cf157[_0x419df6(0xc1)][_0x419df6(0x8c)]&&_0x1cf157[_0x419df6(0xc1)][_0x419df6(0x8c)][_0x419df6(0x97)](_0x419df6(0xa6))?_0x2a9364[_0x419df6(0x98)]=_0x1cf157['infoDasar'][_0x419df6(0x8c)]:_0x2a9364[_0x419df6(0x98)]=_0x3d52c3;};_0x501ef9[_0x1fd772(0x92)]('change',function(_0x2f613d){const _0x526c6b=_0x1fd772,_0x1a4bb2=_0x2f613d[_0x526c6b(0x9f)][_0x526c6b(0xaf)][0x0];if(_0x1a4bb2&&_0x1a4bb2[_0x526c6b(0xc7)][_0x526c6b(0x97)](_0x526c6b(0xa0))){const _0x38ee20=new FileReader();_0x38ee20[_0x526c6b(0x90)]=function(_0x7e1882){const _0x1f482d=_0x526c6b,_0x2de49a=_0x7e1882[_0x1f482d(0x9f)][_0x1f482d(0xac)];_0x2a9364[_0x1f482d(0x98)]=_0x2de49a,_0x1cf157[_0x1f482d(0xc1)][_0x1f482d(0x8c)]=_0x2de49a;},_0x38ee20[_0x526c6b(0xae)](_0x1a4bb2);}}),_0x4f5524['addEventListener'](_0x1fd772(0xb5),()=>{const _0x27342f=_0x1fd772;_0x2a9364['src']=_0x3d52c3,_0x1cf157[_0x27342f(0xc1)][_0x27342f(0x8c)]='',_0x501ef9['value']='';});const _0x237da9=[_0x1fd772(0xcb),_0x1fd772(0xca),_0x1fd772(0x9b),_0x1fd772(0xc5),_0x1fd772(0xc9),_0x1fd772(0x9e),_0x1fd772(0xc6),_0x1fd772(0xaa),_0x1fd772(0xa7),_0x1fd772(0xc2),_0x1fd772(0xa9),_0x1fd772(0xc8),'nipKepsek','namaGuru',_0x1fd772(0x8e),'whatsappGuru',_0x1fd772(0xbb),_0x1fd772(0xb8),_0x1fd772(0x9d),_0x1fd772(0x96),_0x1fd772(0xb1),_0x1fd772(0xbe)],_0x11a1ea=()=>{const _0x250eaf=_0x1fd772;_0x67a249();const _0x1bb955=_0x1cf157[_0x250eaf(0xc1)];_0x237da9[_0x250eaf(0xa5)](_0x3e07ba=>{const _0xf995e5=_0x250eaf,_0x19f8e4=document[_0xf995e5(0xc4)](_0x3e07ba);_0x19f8e4&&(_0x19f8e4[_0xf995e5(0x93)]=_0x1bb955[_0x3e07ba]||'');});};_0x33bba4['addEventListener']('submit',async _0x378e04=>{const _0x3782b2=_0x1fd772;_0x378e04[_0x3782b2(0x8d)](),_0x237da9[_0x3782b2(0xa5)](_0x1d5890=>{const _0xc8e486=_0x3782b2,_0x1ed7ca=document[_0xc8e486(0xc4)](_0x1d5890);_0x1ed7ca&&(_0x1cf157[_0xc8e486(0xc1)][_0x1d5890]=_0x1ed7ca[_0xc8e486(0x93)]);}),saveData(_0x1cf157),_0x1f643e(_0x1cf157[_0x3782b2(0xc1)]),await showModal(_0x3782b2(0x9c),_0x3782b2(0xbf));}),_0x11a1ea();}));
    </script>
</body>
</html>
